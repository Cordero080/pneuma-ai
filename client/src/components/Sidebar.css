/* ============================================
   SIDEBAR — Spaceship Control Panel
   Cockpit aesthetic • Tech borders • Status lights
   LIVING COLORS — subtle hue drift over time
   
   COLOR PALETTE (Tetradic harmony):
   - Cyan:    #00d4ff (primary)
   - Emerald: #00ffaa (status/online)
   - Violet:  #a855f7 (accents)
   - Amber:   #ffaa00 (warnings/highlights)
   - Rose:    #ff6b9d (active states)
   ============================================ */

/* LIVING COLOR ANIMATIONS — slow, subliminal hue drifts */
@keyframes hueDriftEmerald {
  0%, 100% {
    filter: hue-rotate(0deg);
  }
  33% {
    filter: hue-rotate(-15deg); /* towards cyan */
  }
  66% {
    filter: hue-rotate(10deg); /* towards yellow-green */
  }
}

@keyframes hueDriftAmber {
  0%, 100% {
    filter: hue-rotate(0deg);
  }
  50% {
    filter: hue-rotate(-20deg); /* towards orange-red */
  }
}

@keyframes hueDriftViolet {
  0%, 100% {
    filter: hue-rotate(0deg);
  }
  33% {
    filter: hue-rotate(15deg); /* towards magenta */
  }
  66% {
    filter: hue-rotate(-10deg); /* towards blue */
  }
}

@keyframes hueDriftRose {
  0%, 100% {
    filter: hue-rotate(0deg);
  }
  50% {
    filter: hue-rotate(25deg); /* towards coral/orange */
  }
}

/* Panel scan line animation */
@keyframes panelScan {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100vh);
  }
}

@keyframes statusPulse {
  0%, 100% {
    opacity: 0.4;
    box-shadow: 0 0 4px currentColor;
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 8px currentColor, 0 0 12px currentColor;
  }
}

@keyframes statusPulseAmber {
  0%, 100% {
    opacity: 0.5;
    box-shadow: 0 0 4px #ffaa00;
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 8px #ffaa00, 0 0 12px #ffaa00;
  }
}

@keyframes statusPulseViolet {
  0%, 100% {
    opacity: 0.5;
    box-shadow: 0 0 4px #a855f7;
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 8px #a855f7, 0 0 12px #a855f7;
  }
}

@keyframes dataStream {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 20px;
  }
}

.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  width: 220px;
  
  /* Original dark background */
  background: rgba(3, 3, 8, 0.95);
  
  /* Tech border - right edge glow */
  border-right: 1px solid rgba(0, 212, 255, 0.15);
  box-shadow: 
    inset -1px 0 0 rgba(0, 212, 255, 0.1),
    2px 0 20px rgba(0, 0, 0, 0.5),
    inset 0 0 60px rgba(0, 20, 40, 0.3);
  
  display: flex;
  flex-direction: column;
  padding: 0;
  z-index: 100;
  
  transition: width 0.3s ease, opacity 0.3s ease;
  overflow: hidden;
}

/* Scan line overlay */
.sidebar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 212, 255, 0.015) 2px,
    rgba(0, 212, 255, 0.015) 4px
  );
  pointer-events: none;
  z-index: 10;
}

/* Moving scan beam */
.sidebar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100px;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(0, 212, 255, 0.03) 50%,
    transparent 100%
  );
  animation: panelScan 8s linear infinite;
  pointer-events: none;
  z-index: 11;
}

.sidebar.collapsed {
  width: 0;
  padding: 0;
  overflow: hidden;
}

/* Toggle button - right side vertical bar */
.sidebar-toggle {
  position: fixed;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  
  width: 10px;
  height: 50px;
  
  background: rgba(255, 255, 255, 0.08);
  border: none;
  border-radius: 3px;
  
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 101;
}

.sidebar-toggle.collapsed {
  right: 12px;
}

.sidebar-toggle:hover {
  background: rgba(168, 85, 247, 0.4);
  box-shadow: 0 0 12px rgba(168, 85, 247, 0.5);
  width: 12px;
}

.toggle-icon {
  display: none;
}

/* ============================================
   PANEL HEADER - Status Section
   ============================================ */
.panel-header {
  padding: 20px 16px 16px;
  border-bottom: 1px solid rgba(168, 85, 247, 0.15);
  position: relative;
}

/* Status indicator row - centered with decorative lights */
.status-row {
  display: flex;
  align-items: center;
  justify-content: center; /* Center the content */
  gap: 8px;
  margin-bottom: 12px;
  position: relative;
}

/* Primary status light - emerald green with living hue */
.status-light {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #00ffaa;
  animation: 
    statusPulse 2s ease-in-out infinite,
    hueDriftEmerald 45s ease-in-out infinite;
}

/* Decorative lights positioned at the right edge */
.status-row::after {
  content: '';
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #ffaa00;
  animation: 
    statusPulseAmber 3s ease-in-out infinite,
    hueDriftAmber 60s ease-in-out infinite;
}

/* Violet light next to amber */
.status-row::before {
  content: '';
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #a855f7;
  animation: 
    statusPulseViolet 2.5s ease-in-out infinite,
    hueDriftViolet 50s ease-in-out infinite;
}

.status-text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.55rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  /* Emerald family - cooler/bluer green for text */
  color: rgba(0, 220, 180, 0.7);
}

/* New chat button - Magenta family: warm border, cool text */
.new-chat-btn {
  width: 100%;
  padding: 10px 12px;
  margin-top: 8px;
  
  background: rgba(200, 80, 180, 0.06);
  /* Warmer magenta border (more red) */
  border: 1px solid rgba(255, 100, 150, 0.3);
  border-radius: 4px;
  
  /* Cooler magenta text (more blue) */
  color: rgba(220, 130, 255, 0.85);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  
  cursor: pointer;
  transition: all 0.2s ease;
  
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  
  /* Living color - subtle drift */
  animation: hueDriftRose 55s ease-in-out infinite;
}

.new-chat-btn:hover {
  background: rgba(200, 80, 180, 0.15);
  border-color: rgba(255, 120, 170, 0.5);
  box-shadow: 
    0 0 15px rgba(220, 100, 180, 0.25),
    inset 0 0 15px rgba(220, 100, 180, 0.05);
  color: #d88fff;
}

.new-chat-btn:active {
  transform: scale(0.98);
  background: rgba(200, 80, 180, 0.25);
}

.plus-icon {
  width: 14px;
  height: 14px;
}

/* ============================================
   CONVERSATION LIST - Data Stream Section
   ============================================ */
.conversation-list {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  position: relative;
  
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 212, 255, 0.3) transparent;
}

.conversation-list::-webkit-scrollbar {
  width: 4px;
}

.conversation-list::-webkit-scrollbar-track {
  background: transparent;
}

.conversation-list::-webkit-scrollbar-thumb {
  background: rgba(0, 212, 255, 0.3);
  border-radius: 2px;
}

.list-header {
  padding: 0 0 12px;
  font-size: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 3px;
  /* Amber family - cooler/greener for text */
  color: rgba(220, 190, 80, 0.6);
  font-family: 'JetBrains Mono', monospace;
  
  display: flex;
  align-items: center;
  gap: 8px;
}

.list-header::before {
  content: '//';
  /* Amber family - warmer/oranger */
  color: rgba(255, 150, 50, 0.5);
}

.list-header::after {
  content: '';
  flex: 1;
  height: 1px;
  /* Gradient from warm to cool amber */
  background: linear-gradient(90deg, rgba(255, 150, 50, 0.35), transparent);
}

.empty-state {
  padding: 30px 0;
  color: rgba(255, 255, 255, 0.2);
  font-size: 0.65rem;
  text-align: center;
  font-style: italic;
}

/* Conversation item - Violet family: warm border (pink-violet), cool text (blue-violet) */
.conversation-item {
  width: 100%;
  padding: 10px 12px;
  margin-bottom: 4px;
  
  background: rgba(10, 8, 20, 0.4);
  /* Warmer violet border (more magenta) */
  border: 1px solid rgba(180, 90, 220, 0.12);
  border-left: 2px solid rgba(200, 100, 240, 0.25);
  border-radius: 2px;
  
  /* Cooler violet text (more blue) */
  color: rgba(180, 170, 220, 0.55);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  text-align: left;
  
  display: flex;
  flex-direction: column;
  gap: 4px;
  cursor: pointer;
  
  transition: all 0.2s ease;
  position: relative;
}

.conversation-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: transparent;
  transition: background 0.2s ease;
}

.conversation-item:hover {
  background: rgba(150, 80, 200, 0.1);
  border-color: rgba(200, 100, 240, 0.25);
  color: rgba(200, 190, 255, 0.85);
}

.conversation-item:hover::before {
  /* Warm pink-violet on hover */
  background: rgba(220, 120, 255, 0.6);
}

.conversation-item.active {
  background: rgba(0, 40, 60, 0.5);
  /* Warmer cyan border (more green) */
  border-color: rgba(0, 230, 200, 0.3);
  border-left-color: #00e6c8;
  /* Cooler cyan text (more blue) */
  color: #60d0ff;
}

.conversation-item.active::before {
  /* Warm teal glow */
  background: #00e6c8;
  box-shadow: 0 0 8px rgba(0, 230, 200, 0.6);
}

.conv-icon {
  display: none; /* Hide emoji, use border indicator instead */
}

.conv-title {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-size: 0.7rem;
}

.conv-date {
  font-size: 0.5rem;
  /* Cooler amber (more golden/green) */
  color: rgba(200, 180, 100, 0.5);
  letter-spacing: 1px;
}

/* ============================================
   PANEL FOOTER - System Info
   ============================================ */
.panel-footer {
  padding: 12px 16px;
  /* Warmer violet border */
  border-top: 1px solid rgba(200, 100, 240, 0.15);
  
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.5rem;
  /* Cooler violet text */
  color: rgba(150, 140, 200, 0.5);
  text-transform: uppercase;
  letter-spacing: 1px;
  
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.system-version {
  opacity: 0.7;
  /* Cooler cyan (more blue) */
  color: rgba(100, 180, 255, 0.5);
}

.system-status {
  display: flex;
  align-items: center;
  gap: 6px;
}

.status-dot {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #00ffaa;
  animation: 
    statusPulse 3s ease-in-out infinite,
    hueDriftEmerald 40s ease-in-out infinite;
}
